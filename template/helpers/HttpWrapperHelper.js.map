{
  "version": 3,
  "file": "HttpWrapperHelper.js",
  "sourceRoot": "",
  "sources": [
    "HttpWrapperHelper.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# @nodoc\nURL = require('url-parse')\nFormUrlencoded = require 'form-urlencoded'\n\nmodule.exports = class HttpWrapperHelper\n    constructor: () ->\n#        super()\n\n    @_makeParameters: (params) ->\n        '' if params.length==0\n        query = '?'\n        for property, value of params\n            query += \"#{encodeURIComponent property}=#{encodeURIComponent value}&\"\n        return query.slice(0,-1)\n\n    @_makePath: (elements) ->\n        return elements.reduce (x,y) -> x + \"/\" + encodeURIComponent(y)\n\n    @_getPath: (resource, pid, action, sid, object, oid) ->\n        path = \"\"\n        path += \"/\" + encodeURIComponent(resource) if resource?\n        path += \"/\" + encodeURIComponent(pid) if pid?\n        path += \"/\" + encodeURIComponent(action) if action?\n        path += \"/\" + encodeURIComponent(sid) if sid?\n        path += \"/\" + encodeURIComponent(object) if object?\n        path += \"/\" + encodeURIComponent(oid) if oid?\n        return path\n\n\n    @_parse: (url, request, encoding, token) ->\n        parts = new URL(url)\n        parts.path = parts.pathname\n        parts.method = request.method\n        parts.withCredentials = false\n        parts.params = ''\n        if (request.parameters? and Object.keys(request.parameters).length > 0)\n            parts.params = HttpWrapperHelper._makeParameters(request.parameters)\n        if (request.params? and Object.keys(request.params).length > 0)\n            parts.params = HttpWrapperHelper._makeParameters(request.params)\n        parts.path += parts.params\n        parts.headers = {}\n\n        parts.headers[\"MojioAPIToken\"] = token.access_token if token? and token.access_token?\n        parts.headers += request.headers if (request.headers?)\n        parts.headers['Accept'] = 'application/json'\n        parts.headers[\"Content-Type\"] = 'application/json'\n\n        if (request.body?)\n            if (encoding?) #\n                parts.headers[\"Content-Type\"] = 'application/x-www-form-urlencoded'\n                parts.body = FormUrlencoded.encode(request.body)\n            else\n                parts.body = request.body\n            parts.data = parts.body\n\n        if (request.data?)\n            if (encoding?) #\n                parts.headers[\"Content-Type\"] = 'application/x-www-form-urlencoded'\n                parts.data = FormUrlencoded.encode(request.data)\n            else\n                parts.data = request.data\n            parts.body = parts.data\n\n#        console.log(JSON.stringify(parts))\n        return parts"
  ]
}